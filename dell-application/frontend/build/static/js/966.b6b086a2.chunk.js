"use strict";(self.webpackChunkTUSKER_AI=self.webpackChunkTUSKER_AI||[]).push([[966],{21407:function(e,s,a){a.d(s,{A:function(){return c}});var n=a(958),r=a(27565),o=a(73203),i=a(64517);function t(e){var s=function(){var e=r.useContext(i.ob);return(0,o.HM)(e),e}(),a=s.formatMessage,n=s.textComponent,t=void 0===n?r.Fragment:n,l=e.id,c=e.description,d=e.defaultMessage,m=e.values,u=e.children,p=e.tagName,v=void 0===p?t:p,h=a({id:l,description:c,defaultMessage:d},m,{ignoreTag:e.ignoreTag});return"function"===typeof u?u(Array.isArray(h)?h:[h]):v?r.createElement(v,null,h):r.createElement(r.Fragment,null,h)}t.displayName="FormattedMessage";var l=r.memo(t,function(e,s){var a=e.values,r=(0,n.__rest)(e,["values"]),i=s.values,t=(0,n.__rest)(s,["values"]);return(0,o.bN)(i,a)&&(0,o.bN)(r,t)});l.displayName="MemoizedFormattedMessage";var c=l},77966:function(e,s,a){a.r(s);var n=a(89379),r=a(5544),o=a(74702),i=a(27565),t=a(48394),l=a(55166),c=a(96161),d=a(64517),m=a(21407),u=a(11030),p=a(20477),v=a(19903),h=a(63630),_=a(27929),g={user_email:"",user_password:"",change_password:"",user_status:!0,company_id:"",acceptTerms:!1};s.default=(0,d.Ay)((0,o.Ng)(null,v.actions)(function(e){var s=(0,o.wA)(),a=(0,u.Zp)(),d=(0,u.zy)(),v=e.intl,f=(0,i.useState)(!1),x=(0,r.A)(f,2),y=x[0],w=x[1],b=t.Ik().shape({user_email:t.Yj().email("Wrong email format").min(3,"Minimum 3 symbols").max(50,"Maximum 50 symbols").required(v.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),user_password:t.Yj().matches(/^(?=.*[A-Z])(?=.*[!@#$&*])(?=.*\d)(?=.*[a-z]).{8,}$/,"Minimum eight characters, at least one uppercase letter, at least one special character, one lowercase letter and one number required").required(v.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})),change_password:t.Yj().required(v.formatMessage({id:"AUTH.VALIDATION.REQUIRED_FIELD"})).when("user_password",function(e,s){return e?s.oneOf([t.KR("user_password")],"Password and Confirm Password didn't match"):s}),acceptTerms:t.lc().required("You must accept the terms and conditions")}),N=function(){w(!1)},j=function(e){return A.touched[e]&&A.errors[e]?"is-invalid":A.touched[e]&&!A.errors[e]?"is-valid":""},A=(0,l.Wx)({initialValues:g,validationSchema:b,onSubmit:function(n,r){var o,i,t,l,m,u,p,v,_,g,f=r.setStatus,x=r.setSubmitting;w(!0);var y={company_address:null===d||void 0===d||null===(o=d.state)||void 0===o?void 0:o.company_address,company_contact:null===d||void 0===d||null===(i=d.state)||void 0===i?void 0:i.company_contact,company_description:null===d||void 0===d||null===(t=d.state)||void 0===t?void 0:t.company_description,company_email:null===d||void 0===d||null===(l=d.state)||void 0===l?void 0:l.company_email,company_name:null===d||void 0===d||null===(m=d.state)||void 0===m?void 0:m.company_name,company_pin_code:null===d||void 0===d||null===(u=d.state)||void 0===u?void 0:u.company_pin_code,company_poc:null===d||void 0===d||null===(p=d.state)||void 0===p?void 0:p.company_poc,company_poc_contact:null===d||void 0===d||null===(v=d.state)||void 0===v?void 0:v.company_poc_contact,company_website:null===d||void 0===d||null===(_=d.state)||void 0===_?void 0:_.company_website,deployment_region:null===d||void 0===d||null===(g=d.state)||void 0===g?void 0:g.deployment_region};(0,c.Nv)(y).then(function(r){var o;s(e.setUser({company:r.data}));var i=null===(o=r.data)||void 0===o?void 0:o.id,t={user_email:n.user_email,user_password:n.user_password,company_id:i,user_status:!0};(0,c.DY)(t).then(function(n){s(e.setUser(n.data)),a("/auth/login")}).catch(function(e){f("Something went wrong"),e.detail?(0,h.Au)(e.detail):(0,h.Au)("Something went Wrong")}).finally(function(){x(!1),N()})}).catch(function(){N(),x(!1),f("Something went wrong"),a("/auth/registration")})}});return(0,_.jsxs)("div",{className:"login-form login-signin",style:{display:"block"},children:[(0,_.jsxs)("div",{className:"text-center mb-10 mb-lg-20",children:[(0,_.jsx)("h3",{className:"font-size-h1",children:(0,_.jsx)(m.A,{id:"AUTH.REGISTER.TITLE"})}),(0,_.jsx)("p",{className:"text-muted font-weight-bold",children:"Enter your details to complete Step 2/2"})]}),(0,_.jsxs)("form",{id:"kt_login_signin_form",className:"form fv-plugins-bootstrap fv-plugins-framework animated animate__animated animate__backInUp",onSubmit:A.handleSubmit,children:[A.status&&(0,_.jsx)("div",{className:"mb-10 alert alert-custom alert-light-danger alert-dismissible",children:(0,_.jsx)("div",{className:"alert-text font-weight-bold",children:A.status})}),(0,_.jsxs)("div",{className:"form-group fv-plugins-icon-container",children:[(0,_.jsx)("input",(0,n.A)({placeholder:"User Email",type:"user_email",className:"form-control form-control-solid h-auto py-5 px-6 ".concat(j("user_email")),name:"user_email"},A.getFieldProps("user_email"))),A.touched.user_email&&A.errors.user_email?(0,_.jsx)("div",{className:"fv-plugins-message-container",children:(0,_.jsx)("div",{className:"fv-help-block",children:A.errors.user_email})}):null]}),(0,_.jsxs)("div",{className:"form-group fv-plugins-icon-container",children:[(0,_.jsx)("input",(0,n.A)({placeholder:"Password",type:"password",className:"form-control form-control-solid h-auto py-5 px-6 ".concat(j("user_password")),name:"user_password"},A.getFieldProps("user_password"))),A.touched.user_password&&A.errors.user_password?(0,_.jsx)("div",{className:"fv-plugins-message-container",children:(0,_.jsx)("div",{className:"fv-help-block",children:A.errors.user_password})}):null]}),(0,_.jsxs)("div",{className:"form-group fv-plugins-icon-container",children:[(0,_.jsx)("input",(0,n.A)({placeholder:"Confirm Password",type:"password",className:"form-control form-control-solid h-auto py-5 px-6 ".concat(j("change_password")),name:"change_password"},A.getFieldProps("change_password"))),A.touched.change_password&&A.errors.change_password?(0,_.jsx)("div",{className:"fv-plugins-message-container",children:(0,_.jsx)("div",{className:"fv-help-block",children:A.errors.change_password})}):null]}),(0,_.jsxs)("div",{className:"form-group",children:[(0,_.jsxs)("label",{className:"checkbox",children:[(0,_.jsx)("input",(0,n.A)({type:"checkbox",name:"acceptTerms",className:"m-1"},A.getFieldProps("acceptTerms"))),(0,_.jsx)("span",{}),(0,_.jsx)(p.N_,{to:"/terms",target:"_blank",className:"ml-1",rel:"noopener noreferrer",children:"I agree the Terms & Conditions"})]}),A.touched.acceptTerms&&A.errors.acceptTerms?(0,_.jsx)("div",{className:"fv-plugins-message-container",children:(0,_.jsx)("div",{className:"fv-help-block",children:A.errors.acceptTerms})}):null]}),(0,_.jsx)("div",{className:"form-group d-flex flex-wrap flex-center",children:(0,_.jsxs)("button",{type:"submit",disabled:A.isSubmitting||!A.isValid||!A.values.acceptTerms,className:"btn btn-primary font-weight-bold px-9 py-4 my-3 mx-4",children:[(0,_.jsx)("span",{children:"Submit"}),y&&(0,_.jsx)("span",{className:"ml-3 spinner spinner-white"})]})})]})]})}))}}]);
//# sourceMappingURL=966.b6b086a2.chunk.js.map