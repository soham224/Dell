{"version":3,"file":"static/js/558.9ccdfa09.chunk.js","mappings":"0PASMA,EAAgB,CACpBC,MAAO,IAgHT,WAAeC,EAAAA,EAAAA,KAAWC,EAAAA,EAAAA,IAAQ,KAAMC,EAAAA,QAAdD,CA7G1B,SAAwBE,GACtB,IAcyBC,EAdjBC,EAASF,EAATE,KACRC,GAAsCC,EAAAA,EAAAA,WAAS,GAAMC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA9CI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAC5BI,EAAuBC,EAAAA,KAAaC,MAAM,CAC9Cf,MAAOc,EAAAA,KACFd,MAAM,sBACNgB,IAAI,EAAG,qBACPC,IAAI,GAAI,sBACRC,SACGZ,EAAKa,cAAc,CACjBC,GAAI,sCAiBVC,GAASC,EAAAA,EAAAA,IAAU,CACvBvB,cAAAA,EACAwB,iBAAkBV,EAClBW,SAAU,SAACC,EAAMC,GAAoC,IAAhCC,EAASD,EAATC,UAAWC,EAAaF,EAAbE,eAC9BC,EAAAA,EAAAA,IAAgBJ,EAAOzB,OAClB8B,KAAK,kBAAMlB,GAAe,EAAK,GAC/BmB,MAAM,WACLnB,GAAe,GACfgB,GAAc,GACdD,EACIrB,EAAKa,cACD,CAAEC,GAAI,6BACN,CAAEY,KAAMP,EAAOzB,QAGzB,EACN,IAIF,OAAIW,GACKsB,EAAAA,EAAAA,KAACC,EAAAA,GAAQ,CAACC,GAAG,WAIlBC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0BAA0BC,MAAO,CAAEC,QAAS,SAAUC,SAAA,EACnEJ,EAAAA,EAAAA,MAAA,OAAKC,UAAU,6BAA4BG,SAAA,EACzCP,EAAAA,EAAAA,KAAA,MAAII,UAAU,eAAcG,SAAC,yBAC7BP,EAAAA,EAAAA,KAAA,OAAKI,UAAU,8BAA6BG,SAAC,gDAI/CJ,EAAAA,EAAAA,MAAA,QACIZ,SAAUH,EAAOoB,aACjBJ,UAAU,8FAA6FG,SAAA,CAExGnB,EAAOqB,SACJT,EAAAA,EAAAA,KAAA,OAAKI,UAAU,gEAA+DG,UAC5EP,EAAAA,EAAAA,KAAA,OAAKI,UAAU,8BAA6BG,SACzCnB,EAAOqB,YAIhBN,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCG,SAAA,EACnDP,EAAAA,EAAAA,KAAA,SAAAU,EAAAA,EAAAA,GAAA,CACIC,KAAK,QACLP,UAAS,oDAAAQ,QA1DExC,EA2DP,QA1DZgB,EAAOyB,QAAQzC,IAAcgB,EAAO0B,OAAO1C,GACtC,aAGLgB,EAAOyB,QAAQzC,KAAegB,EAAO0B,OAAO1C,GACvC,WAGF,KAoDK2B,KAAK,SACDX,EAAO2B,cAAc,WAE5B3B,EAAOyB,QAAQ9C,OAASqB,EAAO0B,OAAO/C,OACnCiC,EAAAA,EAAAA,KAAA,OAAKI,UAAU,+BAA8BG,UAC3CP,EAAAA,EAAAA,KAAA,OAAKI,UAAU,gBAAeG,SAAEnB,EAAO0B,OAAO/C,UAEhD,SAENoC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,0CAAyCG,SAAA,EACtDP,EAAAA,EAAAA,KAAA,UACIb,GAAG,yBACHwB,KAAK,SACLP,UAAU,uDACVY,SAAU5B,EAAO6B,aAAaV,SACjC,YAGDP,EAAAA,EAAAA,KAACkB,EAAAA,GAAI,CAAChB,GAAG,QAAOK,UACdP,EAAAA,EAAAA,KAAA,UACIW,KAAK,SACLxB,GAAG,yBACHiB,UAAU,6DAA4DG,SACzE,qBAQf,G","sources":["app/Admin/modules/Auth/pages/ForgotPassword.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport { connect } from \"react-redux\";\nimport { Link, Navigate } from \"react-router-dom\"; // Use Navigate instead of Redirect\nimport * as Yup from \"yup\";\nimport { injectIntl } from \"react-intl\";\nimport * as auth from \"../_redux/authRedux\";\nimport { requestPassword } from \"../_redux/authCrud\";\n\nconst initialValues = {\n  email: \"\",\n};\n\nfunction ForgotPassword(props) {\n  const { intl } = props;\n  const [isRequested, setIsRequested] = useState(false);\n  const ForgotPasswordSchema = Yup.object().shape({\n    email: Yup.string()\n        .email(\"Wrong email format\")\n        .min(3, \"Minimum 3 symbols\")\n        .max(50, \"Maximum 50 symbols\")\n        .required(\n            intl.formatMessage({\n              id: \"AUTH.VALIDATION.REQUIRED_FIELD\",\n            })\n        ),\n  });\n\n  const getInputClasses = (fieldname) => {\n    if (formik.touched[fieldname] && formik.errors[fieldname]) {\n      return \"is-invalid\";\n    }\n\n    if (formik.touched[fieldname] && !formik.errors[fieldname]) {\n      return \"is-valid\";\n    }\n\n    return \"\";\n  };\n\n  const formik = useFormik({\n    initialValues,\n    validationSchema: ForgotPasswordSchema,\n    onSubmit: (values, { setStatus, setSubmitting }) => {\n      requestPassword(values.email)\n          .then(() => setIsRequested(true))\n          .catch(() => {\n            setIsRequested(false);\n            setSubmitting(false);\n            setStatus(\n                intl.formatMessage(\n                    { id: \"AUTH.VALIDATION.NOT_FOUND\" },\n                    { name: values.email }\n                )\n            );\n          });\n    },\n  });\n\n  // Redirect using Navigate\n  if (isRequested) {\n    return <Navigate to=\"/auth\" />;\n  }\n\n  return (\n      <div className=\"login-form login-forgot\" style={{ display: \"block\" }}>\n        <div className=\"text-center mb-10 mb-lg-20\">\n          <h3 className=\"font-size-h1\">Forgotten Password?</h3>\n          <div className=\"text-muted font-weight-bold\">\n            Enter your email to reset your password\n          </div>\n        </div>\n        <form\n            onSubmit={formik.handleSubmit}\n            className=\"form fv-plugins-bootstrap fv-plugins-framework animated animate__animated animate__backInUp\"\n        >\n          {formik.status && (\n              <div className=\"mb-10 alert alert-custom alert-light-danger alert-dismissible\">\n                <div className=\"alert-text font-weight-bold\">\n                  {formik.status}\n                </div>\n              </div>\n          )}\n          <div className=\"form-group fv-plugins-icon-container\">\n            <input\n                type=\"email\"\n                className={`form-control form-control-solid h-auto py-5 px-6 ${getInputClasses(\n                    \"email\"\n                )}`}\n                name=\"email\"\n                {...formik.getFieldProps(\"email\")}\n            />\n            {formik.touched.email && formik.errors.email ? (\n                <div className=\"fv-plugins-message-container\">\n                  <div className=\"fv-help-block\">{formik.errors.email}</div>\n                </div>\n            ) : null}\n          </div>\n          <div className=\"form-group d-flex flex-wrap flex-center\">\n            <button\n                id=\"kt_login_forgot_submit\"\n                type=\"submit\"\n                className=\"btn btn-primary font-weight-bold px-9 py-4 my-3 mx-4\"\n                disabled={formik.isSubmitting}\n            >\n              Submit\n            </button>\n            <Link to=\"/auth\">\n              <button\n                  type=\"button\"\n                  id=\"kt_login_forgot_cancel\"\n                  className=\"btn btn-light-primary font-weight-bold px-9 py-4 my-3 mx-4\"\n              >\n                Cancel\n              </button>\n            </Link>\n          </div>\n        </form>\n      </div>\n  );\n}\n\nexport default injectIntl(connect(null, auth.actions)(ForgotPassword));\n\n"],"names":["initialValues","email","injectIntl","connect","auth","props","fieldname","intl","_useState","useState","_useState2","_slicedToArray","isRequested","setIsRequested","ForgotPasswordSchema","Yup","shape","min","max","required","formatMessage","id","formik","useFormik","validationSchema","onSubmit","values","_ref","setStatus","setSubmitting","requestPassword","then","catch","name","_jsx","Navigate","to","_jsxs","className","style","display","children","handleSubmit","status","_objectSpread","type","concat","touched","errors","getFieldProps","disabled","isSubmitting","Link"],"sourceRoot":""}