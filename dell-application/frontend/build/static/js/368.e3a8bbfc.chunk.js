"use strict";(self.webpackChunkTUSKER_AI=self.webpackChunkTUSKER_AI||[]).push([[368],{10334:function(e,n,t){t.d(n,{A:function(){return C}});var a=t(5544),i=t(27565),o=t(59635),r=t(60409),l=t(68854),u=t(36278),c=t(6585),s=t(3934),d=t(35540),v=t(35944),f=t(22945),m=t(65044),p=t(74702),h=t(7274),A=t(37165),b=t(30122),x=t(27929);var g=function(e){var n=e.currentFrameIndex,t=e.tableData,a=e.handleNext,i=e.handlePrev,o=e.videoUrl,r=e.isNextPrev;return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"button-group",children:(0,x.jsx)("div",{className:"control-bar",style:{display:"flex",justifyContent:"end",gap:10,marginBottom:10},children:r&&(0,x.jsxs)("span",{className:"right-controls",style:{display:"flex",gap:10},children:[(0,x.jsx)(b.A,{variant:"outlined",onClick:i,disabled:0===n,title:"Previous",sx:{fontSize:"0.75rem"},children:"Prev"}),(0,x.jsx)(b.A,{variant:"outlined",onClick:a,disabled:n===t.length-1,title:"Next",sx:{fontSize:"0.75rem"},children:"Next"})]})})}),(0,x.jsx)("div",{className:"text-center",children:(0,x.jsxs)("video",{width:"100%",height:"auto",controls:!0,style:{maxHeight:"100vh",borderRadius:"0px"},children:[(0,x.jsx)("source",{src:o,type:"video/mp4"}),"Your browser does not support the video tag."]},n)})]})},y=void 0,C=(0,m.A)(function(e){return{card:{maxWidth:416,height:"100%",margin:"auto"},media:{height:230},header:{paddingBottom:"0rem"},learnMore:{position:"absolute",bottom:0},cardCol:{height:220,marginTop:25,marginBottom:15}}})(function(e){var n,t,m,b=e.tableDatas,C=e.showBarTableData,j=e.handleCloseModal,_=(0,i.useState)(null),E=(0,a.A)(_,2),S=E[0],w=E[1],k=(0,i.useState)([]),N=(0,a.A)(k,2),T=N[0],B=N[1],I=(0,i.useState)(0),U=(0,a.A)(I,2),M=U[0],F=U[1],z=(0,i.useState)(0),P=(0,a.A)(z,2),K=P[0],L=P[1],D=(0,i.useState)([]),G=(0,a.A)(D,2),Y=G[0],O=G[1],R=(0,i.useState)("images"),q=(0,a.A)(R,2),H=q[0],Z=q[1],W=(0,p.d4)(function(e){var n,t,a,i=e.auth;return{userRole:(null===(n=i.user)||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.length)&&(null===(a=i.user.roles[0])||void 0===a?void 0:a.role)}},p.bN).userRole;(0,i.useEffect)(function(){V()},[W]);var V=function(){(0,f.if)(["-1"],W).then(function(e){if(e&&e.isSuccess){var n=[];e.data.map(function(e,t){return n.push({label:e.camera_name,value:e.id}),null}),n.push({label:"All Camera",value:"-1"}),O(n)}else y.setState({blocking:!1}),console.log("Something went wrong")}).catch(function(e){e.detail&&console.log(e.detail)})};(0,i.useEffect)(function(){Y&&(J(),X())},[M,K,b,Y]);var J=function(){w([{dataField:"camera_name",text:"Camera"},{dataField:"count",text:"Count"},{dataField:"date",text:"Date"},{dataField:"labels",text:"Labels",formatter:function(e){return e?e.split(",").map(function(e){return(0,h.F)(e.trim())}).join(", "):""}}])},X=function(){var e,n,t;if(b.length){var a="images"===H?b[M]:b[K],i=[],o=Y.find(function(e){return String(e.value)===(null===a||void 0===a?void 0:a.camera_id)}),r=(null===o||void 0===o?void 0:o.label)||"Unknown Camera",l=(null===a||void 0===a||null===(e=a.result)||void 0===e||null===(n=e.detection)||void 0===n?void 0:n.length)||0,u=v.utc(null===a||void 0===a||null===(t=a.frame_date)||void 0===t?void 0:t.$date).local().format("MMMM DD YYYY, h:mm:ss a"),c=Object.keys((null===a||void 0===a?void 0:a.counts)||{}).toString();i.push({camera_name:r,count:l,date:u,labels:c,notification_type:"tusker"}),B(i)}},$=(0,i.useCallback)(function(){F(function(e){return Math.min(e+1,b.length-1)})},[b.length]),Q=(0,i.useCallback)(function(){F(function(e){return Math.max(e-1,0)})},[]),ee=(0,i.useCallback)(function(){L(function(e){return Math.min(e+1,b.length-1)})},[b.length]),ne=(0,i.useCallback)(function(){L(function(e){return Math.max(e-1,0)})},[]),te=(0,i.useCallback)(function(e){Z(e)},[]);return(0,x.jsxs)(l.A,{size:"lg",show:C,onHide:j,dialogClassName:"result-modal",children:[(0,x.jsx)(l.A.Header,{closeButton:!0,children:(0,x.jsx)("h3",{children:"My Result Details"})}),(0,x.jsx)(l.A.Body,{children:(0,x.jsxs)(u.A,{activeKey:H,onSelect:te,id:"media-tabs",className:"mb-3",children:[(0,x.jsx)(c.A,{eventKey:"images",title:"Images",children:(0,x.jsxs)(x.Fragment,{children:[T.length>0?(0,x.jsx)(o.A,{bootstrap4:!0,keyField:"id",data:T,columns:S,bordered:!1,wrapperClasses:"table-responsive"}):(0,x.jsx)("p",{children:"No data available"}),(0,x.jsx)(A.A,{currentFrameIndex:M,tableData:b,handleNext:$,handlePrev:Q,imageUrl:null===(n=b[M])||void 0===n?void 0:n.image_url,isNextPrev:!0})]})}),(0,x.jsxs)(c.A,{eventKey:"video",title:"Video",children:[T.length>0?(0,x.jsx)(o.A,{bootstrap4:!0,keyField:"id",data:T,columns:S,bordered:!1,wrapperClasses:"table-responsive"}):(0,x.jsx)("p",{children:"No data available"}),b&&null!==(t=b[K])&&void 0!==t&&t.video_url?(0,x.jsx)(g,{currentFrameIndex:K,tableData:b,handleNext:ee,handlePrev:ne,videoUrl:null===(m=b[K])||void 0===m?void 0:m.video_url,isNextPrev:!0}):(0,x.jsx)("p",{className:"text-center",children:"No video available for this frame."})]})]})}),(0,x.jsx)(l.A.Footer,{children:(0,x.jsxs)(s.A,{className:"w-100",children:[(0,x.jsx)(d.A,{xs:6,children:(0,x.jsx)("span",{children:"images"===H?(0,x.jsxs)(x.Fragment,{children:["Frame ",M+1," of ",b.length]}):(0,x.jsxs)(x.Fragment,{children:["Video ",K+1," of ",b.length]})})}),(0,x.jsx)(d.A,{xs:6,className:"text-right",children:(0,x.jsx)(r.A,{type:"button",onClick:j,className:"btn btn-secondary ml-2",children:"Cancel"})})]})})]})})},15037:function(e,n,t){t.d(n,{E_:function(){return h},Mp:function(){return b},Ud:function(){return v},pw:function(){return s},qz:function(){return m},rZ:function(){return u}});var a=t(91212),i=t(10467),o=t(1514),r=t(20457),l=t(95177);function u(e){return c.apply(this,arguments)}function c(){return(c=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/get_all_deployment_camera_by_location?location_id="+n,method:r.K.GET});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function s(){return d.apply(this,arguments)}function d(){return(d=(0,i.A)((0,a.A)().m(function e(){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/get_all_usecases",method:r.K.GET});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function v(e){return f.apply(this,arguments)}function f(){return(f=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/camera_usecase_mapping/add",method:r.K.POST,body:n});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:n===l.NY?"/camera_usecase_mapping":"/camera_usecase_mapping/current_company",method:r.K.GET});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function h(e){return A.apply(this,arguments)}function A(){return(A=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/camera_usecase_mapping/id"+"?camera_usecase_mapping_id=".concat(n),method:r.K.GET});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function b(e){return x.apply(this,arguments)}function x(){return(x=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/cameras_usecase_mapping/update",method:r.K.POST,body:n});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}},19131:function(e,n,t){t.d(n,{A:function(){return b}});var a=t(64467),i=t(89379),o=t(5544),r=t(27565),l=t(74177),u=t(68854),c=t(63630),s=t(2063),d=t(15037),v=t(73838),f=t(55072),m=t(74702),p=t(60409),h=t(95177),A=t(27929);function b(e){var n=e.saveUsecase,t=e.usecaseData,b=e.onHide,x=(0,r.useState)(!1),g=(0,o.A)(x,2),y=g[0],C=g[1],j=(0,r.useState)(null),_=(0,o.A)(j,2),E=_[0],S=_[1],w=(0,r.useState)([]),k=(0,o.A)(w,2),N=k[0],T=k[1],B=(0,r.useState)(1),I=(0,o.A)(B,2),U=I[0],M=I[1],F=(0,r.useState)(1),z=(0,o.A)(F,2),P=z[0],K=z[1],L=(0,r.useState)(1),D=(0,o.A)(L,2),G=D[0],Y=D[1],O=(0,r.useState)({}),R=(0,o.A)(O,2),q=R[0],H=R[1],Z=(0,r.useState)(!1),W=(0,o.A)(Z,2),V=W[0],J=W[1],X=(0,r.useState)(null),$=(0,o.A)(X,2),Q=$[0],ee=$[1],ne=(0,r.useState)([]),te=(0,o.A)(ne,2),ae=te[0],ie=te[1],oe=(0,r.useState)(!1),re=(0,o.A)(oe,2),le=re[0],ue=re[1],ce=(0,r.useState)(null),se=(0,o.A)(ce,2),de=se[0],ve=se[1],fe=(0,r.useState)([]),me=(0,o.A)(fe,2),pe=me[0],he=me[1],Ae=(0,r.useState)(!1),be=(0,o.A)(Ae,2),xe=be[0],ge=be[1],ye=(0,r.useState)(null),Ce=(0,o.A)(ye,2),je=Ce[0],_e=Ce[1],Ee=(0,r.useState)([]),Se=(0,o.A)(Ee,2),we=Se[0],ke=Se[1],Ne=(0,m.d4)(function(e){var n,t,a,i=e.auth;return{userRole:(null===(n=i.user)||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.length)&&(null===(a=i.user.roles[0])||void 0===a?void 0:a.role)}},m.bN).userRole;(0,r.useEffect)(function(){Ne===h.NY&&Be()},[Ne]),(0,r.useEffect)(function(){null!==je&&void 0!==je&&je.value&&Ne===h.NY&&Ie()},[null===je||void 0===je?void 0:je.value,Ne]),(0,r.useEffect)(function(){null!==de&&void 0!==de&&de.value&&Ne===h.NY&&Te()},[null===de||void 0===de?void 0:de.value,Ne]),(0,r.useEffect)(function(){Ne===h.NY&&(ue(!0),(0,v.dK)().then(function(e){if(null!==e&&void 0!==e&&e.data){var n=e.data.map(function(e){return{label:e.company_name,value:e.id}});he(n)}ue(!1)}).catch(function(e){ue(!1),(0,c.Au)((null===e||void 0===e?void 0:e.detail)||"Something went wrong")}))},[Ne]);var Te=function(){ge(!0),(0,f.uU)(Ne,null===de||void 0===de?void 0:de.value).then(function(e){if(e&&e.data){var n=[];e.data.map(function(e){return n.push({label:e.location_name,value:e.id})}),ge(!1),ke(n)}}).catch(function(e){ge(!1),e.detail&&console.log(e.detail)})},Be=function(){J(!0),(0,d.pw)().then(function(e){if(null!==e&&void 0!==e&&e.data){var n=e.data.map(function(e){return{label:e.usecase,value:e.id}});ie(n)}J(!1)}).catch(function(e){J(!1),console.log((null===e||void 0===e?void 0:e.detail)||"Something went wrong")})},Ie=function(){C(!0),(0,d.rZ)(null===je||void 0===je?void 0:je.value).then(function(e){if(null!==e&&void 0!==e&&e.data){var n=e.data.map(function(e){return{label:e.camera_name,value:e.id}});T(n)}C(!1)}).catch(function(e){C(!1),console.log((null===e||void 0===e?void 0:e.detail)||"Something went wrong")})},Ue=function(e,n){var t="";switch(e){case"company":t=function(e,n){return n!==h.NY||e?"":"Company is required"}(n,Ne);break;case"location":t=function(e){return e?"":"Location is required"}(n);break;case"camera":t=function(e){return e?"":"Camera is required"}(n);break;case"useCase":t=function(e){return e?"":"Use case is required"}(n);break;case"timeBeforeEvent":case"timeAfterEvent":t=function(e){var n=parseInt(e,10);return isNaN(n)||n<1||n>10?"Must be between 1 and 10":""}(n);break;case"inference":t=function(e,n){var t=parseInt(e,10);return"loitering"===(null===n||void 0===n?void 0:n.label)&&(isNaN(t)||t<1||t>180)?"Must be between 1 and 180":""}(n,Q)}return H(function(n){return(0,i.A)((0,i.A)({},n),{},(0,a.A)({},e,t))}),!t},Me=function(e,n){Ue(e,n)},Fe=(0,r.useCallback)(function(){return Me("company",null===de||void 0===de?void 0:de.value)},[de]),ze=(0,r.useCallback)(function(){return Me("location",null===je||void 0===je?void 0:je.value)},[je]),Pe=(0,r.useCallback)(function(){return Me("camera",null===E||void 0===E?void 0:E.value)},[E]),Ke=(0,r.useCallback)(function(){return Me("useCase",null===Q||void 0===Q?void 0:Q.value)},[Q]),Le=(0,r.useCallback)(function(){return Me("timeBeforeEvent",U)},[U]),De=(0,r.useCallback)(function(){return Me("timeAfterEvent",P)},[P]),Ge=(0,r.useCallback)(function(){return Me("inference",G)},[G]),Ye=(0,r.useCallback)(function(e){ve(e),_e(null),S(null),ee(null),M(1),K(1),Y(1),Ue("company",null===e||void 0===e?void 0:e.value)},[Ue]),Oe=(0,r.useCallback)(function(e){_e(e),S(null),ee(null),M(1),K(1),Y(1),Ue("location",null===e||void 0===e?void 0:e.value)},[Ue]),Re=(0,r.useCallback)(function(e){S(e),ee(null),M(1),K(1),Y(1),Ue("camera",null===e||void 0===e?void 0:e.value)},[Ue]),qe=(0,r.useCallback)(function(e){ee(e),M(1),K(1),Y(1),Ue("useCase",null===e||void 0===e?void 0:e.value),"loitering"===(null===e||void 0===e?void 0:e.label)?(Ue("inference",1),Ue("timeBeforeEvent",1),Ue("timeAfterEvent",1)):H(function(e){return(0,i.A)((0,i.A)({},e),{},{inference:"",timeBeforeEvent:"",timeAfterEvent:""})})},[Ue,H]),He=(0,r.useCallback)(function(e){var n=e.target,t=n.name,a=n.value,i=parseInt(a,10);isNaN(i)?"timeBeforeEvent"===t?(M(""),Ue("timeBeforeEvent","")):"timeAfterEvent"===t&&(K(""),Ue("timeAfterEvent","")):"timeBeforeEvent"===t?(M(i),Ue("timeBeforeEvent",i)):"timeAfterEvent"===t&&(K(i),Ue("timeAfterEvent",i))},[Ue]),Ze=(0,r.useCallback)(function(e){var n=parseInt(e.target.value,10);if(isNaN(n))return Y(""),void Ue("inference","");Y(n),Ue("inference",n)},[Ue]);(0,r.useEffect)(function(){var e,n,a,i,o,r,l,u,c,s;if(S(null!==t&&void 0!==t&&t.CameraManager?{label:null===t||void 0===t||null===(e=t.CameraManager)||void 0===e?void 0:e.camera_name,value:null===t||void 0===t||null===(n=t.CameraManager)||void 0===n?void 0:n.id}:null),ee(null!==t&&void 0!==t&&t.UseCase?{label:null===t||void 0===t||null===(a=t.UseCase)||void 0===a?void 0:a.usecase,value:null===t||void 0===t||null===(i=t.UseCase)||void 0===i?void 0:i.id}:null),M((null===t||void 0===t||null===(o=t.CameraUseCaseMapping)||void 0===o?void 0:o.second_before_event)||1),K((null===t||void 0===t||null===(r=t.CameraUseCaseMapping)||void 0===r?void 0:r.second_after_event)||1),Y((null===t||void 0===t||null===(l=t.CameraUseCaseMapping)||void 0===l?void 0:l.usecase_timeout)||1),null!==t&&void 0!==t&&null!==(u=t.Location)&&void 0!==u&&u.company_id&&pe.length>0){var d=pe.find(function(e){var n;return e.value===(null===t||void 0===t||null===(n=t.Location)||void 0===n?void 0:n.company_id)});ve(d)}null!==t&&void 0!==t&&t.Location&&_e({label:null===t||void 0===t||null===(c=t.Location)||void 0===c?void 0:c.location_name,value:(null===t||void 0===t||null===(s=t.Location)||void 0===s?void 0:s.id)||null})},[t,pe]);var We=function(){var e=[{key:"company",value:null===de||void 0===de?void 0:de.value},{key:"location",value:null===je||void 0===je?void 0:je.value},{key:"camera",value:null===E||void 0===E?void 0:E.value},{key:"useCase",value:null===Q||void 0===Q?void 0:Q.value},{key:"timeBeforeEvent",value:U},{key:"timeAfterEvent",value:P}];"loitering"===(null===Q||void 0===Q?void 0:Q.label)&&e.push({key:"inference",value:G});var n=!0;return e.forEach(function(e){Ue(e.key,e.value)||(n=!1)}),n},Ve=(0,r.useCallback)(function(e){if(e.preventDefault(),We()){var a,i={camera_id:(null===E||void 0===E?void 0:E.value)||0,usecase_id:(null===Q||void 0===Q?void 0:Q.value)||0,second_before_event:U||1,second_after_event:P||1,usecase_timeout:G||1,id:null===t||void 0===t||null===(a=t.CameraUseCaseMapping)||void 0===a?void 0:a.id};n(i)}},[We,n,E,Q,U,P,G,t]),Je=(0,r.useCallback)(function(e){return(0,i.A)((0,i.A)({},e),{},{borderRadius:0,colors:(0,i.A)((0,i.A)({},e.colors),{},{primary25:"#5DBFC4",primary:"#147b82"})})},[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(u.A.Body,{children:(0,A.jsxs)(l.A,{children:[Ne===h.NY&&(0,A.jsxs)(l.A.Group,{controlId:"companySelect",children:[(0,A.jsx)(l.A.Label,{children:"Select Company"}),(0,A.jsx)(s.default,{theme:Je,isLoading:le,isSearchable:!0,placeholder:"Select Company",className:"select-react-dropdown ".concat(q.company?"is-invalid":""),value:de,onBlur:Fe,onChange:Ye,options:pe,isDisabled:t}),q.company&&(0,A.jsx)("div",{className:"invalid-feedback d-block",children:q.company})]}),(0,A.jsxs)(l.A.Group,{controlId:"locationName",children:[(0,A.jsx)(l.A.Label,{children:"Select Location"}),(0,A.jsx)(s.default,{theme:Je,isLoading:xe,isSearchable:!0,placeholder:"Select Location",className:"select-react-dropdown ".concat(q.location?"is-invalid":""),value:je,onBlur:ze,onChange:Oe,options:we,isDisabled:t}),q.location&&(0,A.jsx)("div",{className:"invalid-feedback d-block",children:q.location})]}),(0,A.jsxs)(l.A.Group,{controlId:"cameraSelect",children:[(0,A.jsx)(l.A.Label,{children:"Select Camera"}),(0,A.jsx)(s.default,{theme:Je,isLoading:y,isSearchable:!0,placeholder:"Select Camera",className:"select-react-dropdown ".concat(q.camera?"is-invalid":""),value:E,onBlur:Pe,onChange:Re,options:N,isDisabled:t}),q.camera&&(0,A.jsx)("div",{className:"invalid-feedback d-block",children:q.camera})]}),(0,A.jsxs)(l.A.Group,{controlId:"useCaseSelect",children:[(0,A.jsx)(l.A.Label,{children:"Select UseCase"}),(0,A.jsx)(s.default,{theme:Je,isLoading:V,placeholder:"Select UseCase",className:"select-react-dropdown ".concat(q.useCase?"is-invalid":""),value:Q,onBlur:Ke,onChange:qe,options:ae,isDisabled:t}),q.useCase&&(0,A.jsx)("div",{className:"invalid-feedback d-block",children:q.useCase})]}),(0,A.jsxs)(l.A.Group,{controlId:"timeBeforeEvent",children:[(0,A.jsx)(l.A.Label,{children:"Time Before Event"}),(0,A.jsx)(l.A.Control,{type:"number",name:"timeBeforeEvent",min:1,max:10,placeholder:"Time Before Event",value:U,onBlur:Le,onChange:He,isInvalid:!!q.timeBeforeEvent}),(0,A.jsx)(l.A.Control.Feedback,{type:"invalid",children:q.timeBeforeEvent})]}),(0,A.jsxs)(l.A.Group,{controlId:"timeAfterEvent",children:[(0,A.jsx)(l.A.Label,{children:"Time After Event"}),(0,A.jsx)(l.A.Control,{type:"number",name:"timeAfterEvent",min:1,max:10,placeholder:"Time After Event",value:P,onChange:He,onBlur:De,isInvalid:!!q.timeAfterEvent}),(0,A.jsx)(l.A.Control.Feedback,{type:"invalid",children:q.timeAfterEvent})]}),"loitering"===(null===Q||void 0===Q?void 0:Q.label)&&(0,A.jsxs)(l.A.Group,{controlId:"inferenceOutput",children:[(0,A.jsx)(l.A.Label,{children:"Inference Output"}),(0,A.jsx)(l.A.Control,{type:"number",min:1,max:180,placeholder:"Inference Output",value:G,onChange:Ze,onBlur:Ge,isInvalid:!!q.inference}),(0,A.jsx)(l.A.Control.Feedback,{type:"invalid",children:q.inference})]})]})}),(0,A.jsxs)(u.A.Footer,{children:[(0,A.jsx)(p.A,{color:"secondary",onClick:b,children:"Cancel"}),(0,A.jsx)(p.A,{color:"primary",onClick:Ve,children:"Save"})]})]})}},37165:function(e,n,t){var a=t(80045),i=t(27565),o=t(30122),r=t(83832),l=t(71744),u=t(50521),c=t.n(u),s=t(53493),d=t(27929),v=["zoomIn","zoomOut","resetTransform"];n.A=function(e){var n=e.currentFrameIndex,t=e.tableData,u=e.handleNext,f=e.handlePrev,m=e.imageUrl,p=e.isNextPrev,h=i.useRef(null);return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"button-group",children:(0,d.jsxs)("div",{className:"control-bar",style:{display:"flex",justifyContent:"space-between",gap:10,marginBottom:10},children:[(0,d.jsxs)("span",{className:"left-controls",children:[(0,d.jsx)(o.A,{variant:"outlined",onClick:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.zoomIn()},title:"Zoom In",sx:{fontSize:"0.75rem",minWidth:"32px"},children:"+"}),(0,d.jsx)(o.A,{variant:"outlined",onClick:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.zoomOut()},title:"Zoom Out",sx:{fontSize:"0.75rem",minWidth:"32px"},children:"-"}),(0,d.jsx)(o.A,{variant:"outlined",onClick:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.resetTransform()},title:"Reset",sx:{fontSize:"0.75rem"},children:"Reset"})]}),p&&(0,d.jsxs)("span",{className:"right-controls",style:{display:"flex",gap:10},children:[(0,d.jsx)(o.A,{variant:"outlined",onClick:f,disabled:0===n,title:"Previous",sx:{fontSize:"0.75rem"},children:"Prev"}),(0,d.jsx)(o.A,{variant:"outlined",onClick:u,disabled:n===t.length-1,title:"Next",sx:{fontSize:"0.75rem"},children:"Next"})]})]})}),(0,d.jsx)("div",{className:"image-container",children:(0,d.jsx)(r.GT,{defaultScale:1,defaultPositionX:200,defaultPositionY:100,children:function(e){var o,u,f=e.zoomIn,p=e.zoomOut,h=e.resetTransform;(0,a.A)(e,v);return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)("div",{className:"tools text-right",style:{width:"100%",marginBottom:"4px"},children:(0,d.jsx)(l.A,{zoomIn:f,zoomOut:p,resetTransform:h,frameData:!0})}),(0,d.jsxs)("div",{className:"boundimage-full w-100",style:{margin:"0 auto"},children:[console.log("tableData",t[n]),(0,d.jsx)(r.WZ,{children:(0,d.jsx)(c(),{className:"row m-auto col-12 p-0 text-center",image:m,boxes:null===(o=t[n])||void 0===o||null===(u=o.result)||void 0===u?void 0:u.detection.map(function(e){return{coord:[e.location[0],e.location[1],e.location[2]-e.location[0],e.location[3]-e.location[1]],label:e.label}}),options:s.Wj})})]})]})}})})]})}},40043:function(e,n,t){t.d(n,{bU:function(){return f},eH:function(){return s},pN:function(){return c},sV:function(){return v},zJ:function(){return d}});var a=t(91212),i=t(10467),o=t(37491),r=t(15037),l=t(63630),u=o.m.actions,c=function(e){return function(){var n=(0,i.A)((0,a.A)().m(function n(t){return(0,a.A)().w(function(n){for(;;)switch(n.n){case 0:t(u.startCall({callType:o.o.list})),(0,r.qz)(e).then(function(e){e&&e.isSuccess&&t(u.getAllCameraUsecaseMapping(e.data))}).catch(function(e){e.clientMessage="Can't find locations",e.detail&&console.log(e.detail),t(u.catchError({error:e,callType:o.o.list}))});case 1:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}()},s=function(e){return function(n){return n(u.startCall({callType:o.o.action})),(0,r.E_)(e).then(function(e){if(!e||!e.isSuccess)throw new Error("Error getting location details");n(u.getAllCameraUsecaseMappingById(e.data))}).catch(function(e){e.detail&&console.log(e.detail),n(u.catchError({error:e,callType:o.o.action}))})}},d=function(e){return function(n){return n(u.startCall({callType:o.o.action})),(0,r.Ud)(e).then(function(e){if(e&&e.isSuccess){var t=e.data;n(u.addCameraUsecaseMapping(t)),(0,l.Zx)("Camera UseCase Mapping Created Successfully")}}).catch(function(e){e.detail&&console.log(e.detail),n(u.catchError({error:e,callType:o.o.action}))})}},v=function(e){return function(n){return n(u.startCall({callType:o.o.action})),(0,r.Mp)(e).then(function(e){if(e&&e.isSuccess){var t,a=e.data;n(u.updateCameraUsecaseMapping(a)),(0,l.Zx)(null===(t=e.data)||void 0===t?void 0:t.message)}}).catch(function(e){e.detail&&console.log(e.detail),n(u.catchError({error:e,callType:o.o.action}))})}},f=function(){return function(e){e(u.clearUsecaseById())}}},55072:function(e,n,t){t.d(n,{C1:function(){return b},TN:function(){return s},Yj:function(){return C},dr:function(){return h},i9:function(){return v},ir:function(){return _},kz:function(){return g},uU:function(){return m}});var a=t(91212),i=t(10467),o=t(1514),r=t(20457),l=t(95177),u="/get_enabled_locations_by_company_id",c="/get_current_company_enabled_locations";function s(e){return d.apply(this,arguments)}function d(){return(d=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:n===l.NY?"/get_all_supervisor":"/get_current_company_supervisor",method:r.K.GET});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function v(){return f.apply(this,arguments)}function f(){return(f=(0,i.A)((0,a.A)().m(function e(){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/get_all_companies",method:r.K.GET});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:n===l.NY?u+"?company_id=1":c,method:r.K.GET});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function h(e){return A.apply(this,arguments)}function A(){return(A=(0,i.A)((0,a.A)().m(function e(n){var t;return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return t="",t=n===l.lc?c:n===l.Gm?"/get_supervisor_enabled_locations":u+"?company_id=1",e.n=1,(0,o.E)({endpoint:t,method:r.K.GET});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function b(e){return x.apply(this,arguments)}function x(){return(x=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/add_supervisor",method:r.K.POST,body:n});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function g(e){return y.apply(this,arguments)}function y(){return(y=(0,i.A)((0,a.A)().m(function e(n){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/update_supervisor_status?user_status="+n.user_status+"&user_id="+n.user_id,method:r.K.POST});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function C(e,n){return j.apply(this,arguments)}function j(){return(j=(0,i.A)((0,a.A)().m(function e(n,t){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/assign_locations?user_id="+t,method:r.K.POST,body:n.location_list});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}function _(e,n){return E.apply(this,arguments)}function E(){return(E=(0,i.A)((0,a.A)().m(function e(n,t){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,o.E)({endpoint:"/remove_assigned_locations?user_id="+t,method:r.K.POST,body:n.location_list});case 1:return e.a(2,e.v)}},e)}))).apply(this,arguments)}},87835:function(e,n,t){t.d(n,{a:function(){return u}});var a=t(89379),i=t(53493),o=t(85670),r=t(59635),l=(t(27565),t(27929)),u=function(e){var n,t,u,c,s=e.items,d=e.columns,v=e.tableChangeHandler,f=e.paginationTableProps,m=e.selectRow,p=(((null===f||void 0===f||null===(n=f.pagination)||void 0===n||null===(t=n.options)||void 0===t?void 0:t.page)||1)-1)*((null===f||void 0===f||null===(u=f.pagination)||void 0===u||null===(c=u.options)||void 0===c?void 0:c.sizePerPage)||(null===s||void 0===s?void 0:s.length)||10)+1,h=!!f;return(0,l.jsxs)(r.A,(0,a.A)((0,a.A)({wrapperClasses:"table-responsive",bordered:!1,classes:"table employeeTable table-head-custom table-vertical-center table-horizontal-center overflow-hidden",bootstrap4:!0,remote:h,keyField:"id",data:(null===s||void 0===s?void 0:s.map(function(e,n){return(0,a.A)((0,a.A)({},e),{},{idx:p+n})}))||[],columns:d,defaultSorted:i.Nz,onTableChange:h?(0,o.Tq)(v):void 0,hideSelectColumn:!0},f||{}),{},{selectRow:m,children:[(0,l.jsx)(o.Hd,{entities:s}),(0,l.jsx)(o.Rt,{entities:s})]}))}}}]);
//# sourceMappingURL=368.e3a8bbfc.chunk.js.map